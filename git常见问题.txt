Git 状态 untracked 和 not staged的区别
2017年12月14日 17:37:23 慢慢的踏实走 阅读数：2155 标签： git  更多
个人分类： 版本控制
untrack表示是新文件，没有被add过，是为跟踪的意思。

not staged 表示add过的文件，即跟踪文件，再次修改没有add，就是没有暂存的意思

1.1此时你想撤销错误添加到暂存区里的文件，可以输入以下命令：
git rm --cache 文件名

1.2
删除暂存区和工作区的文件
git rm -f 文件名

2 删除错误提交的commit
    有时，不仅添加到了暂存区，而且commit到了版本库，这个时候就不能使用git rm了，需要使用git reset命令。
    错误提交到了版本库，此时无论工作区、暂存区，还是版本库，这三者的内容都是一样的，所以在这种情况下，只是删除了工作区和暂存区的文件，下一次用该版本库回滚那个误添加的文件还会重新生成。
    这个时候，我们必须撤销版本库的修改才能解决问题！
    git reset有三个选项，--hard、--mixed、--soft。
//仅仅只是撤销已提交的版本库，不会修改暂存区和工作区
git reset --soft 版本库ID
 

//仅仅只是撤销已提交的版本库和暂存区，不会修改工作区
git reset --mixed 版本库ID
 

//彻底将工作区、暂存区和版本库记录恢复到指定的版本库
git reset --hard 版本库ID
    那我们到底应该用哪个选项好呢？
    （1）如果你是在提交了后，对工作区的代码做了修改，并且想保留这些修改，那么可以使用git reset --mixed 版本库ID，注意这个版本库ID应该不是你刚刚提交的版本库ID，而是刚刚提交版本库的上一个版本库。如下图：
    （2）如果不想保留这些修改，可以直接使用彻底的恢复命令，git reset --hard 版本库ID。
    （3）为什么不使用--soft呢，因为它只是恢复了版本库，暂存区仍然存在你错误提交的文件索引，还需要进一步使用上一节的删除错误添加到暂存区的文件，详细见上文。